(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{97746:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wrap/[[...mode]]",function(){return n(91656)}])},60131:function(e,t,n){"use strict";n.d(t,{K:function(){return f},p:function(){return m}});var r=n(47568),a=n(20414),s=n(61744),i=n(25910),o=n(98187),u=n(81313),c=n(69942),l=n(43800),d=n(2593),h=n(87385),p=n(9219),f=function(){var e=(0,o.LC)(),t=(0,o.Z3)(),n=(0,c.$6)().chainId,i=(0,u.p)(["swr:approve-wrap-gas-limit",n],function(){var n=(0,r.Z)((function(n,r){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return r?[4,e.estimateGas.approve(t.address,(0,s.parseEther)("0.001"),{from:l.mA}).catch((function(e){return console.warn("[swr:approve-wrap-gas-limit]",e),d.O$.from(l.vO)}))]:[2];case 1:return[2,+n.sent()]}}))}));return function(e,t){return n.apply(this,arguments)}}(),h.NF).data;return null!==i&&void 0!==i?i:l.vO},m=function(e){var t=(0,o.Z3)(),n=(0,c.$6)().chainId,h=(0,u.p)(["swr:wrap-gas-limit",n,e],function(){var e=(0,r.Z)((function(e,n,r){var o;return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return n?(o=(0,i.qE)(n,(0,l.Mb)(n)),r?[4,o.estimateGas({from:l.mA,to:t.address,value:(0,s.parseEther)("0.001")}).catch((function(e){return console.warn(e),d.O$.from(l.mw)}))]:[3,2]):[2];case 1:return[2,+e.sent()];case 2:return[4,t.estimateGas.wrap((0,s.parseEther)("0.0001"),{from:l.mA}).catch((function(e){return console.warn(e),d.O$.from(n===p.zG.Goerli?l._4:l.f8)}))];case 3:return[2,+e.sent()];case 4:return[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}()).data;return h||(e?l.mw:n===p.zG.Goerli?l._4:l.f8)}},91656:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Pe},default:function(){return qe}});var r=n(85893),a=n(67294),s=n(9008),i=n.n(s),o=n(11163),u=n(8439),c=n(47568),l=n(14924),d=n(10253),h=n(20414),p=n(50890),f=n(1562),m=n(69942),w=n(86016),x=n(53059),v=n(61744),T=n(54152),g=n(78956),E=n(90615),b=n(36511),j=n(60131),S=n(69354),y=n(26042),H=n(69396),k=n(29815),Z=n(74486),C=n(98187),_=n(46747),I=n(7033),U=n(38776),G=function(){var e=(0,c.Z)((function(e,t,n,r,a,s,i,o,l,d,p,f){var m,w,x,T;return(0,h.__generator)(this,(function(g){switch(g.label){case 0:(0,U.Z)(t,"must have wstethContractWeb3"),(0,U.Z)(l,"must have chain id"),(0,U.Z)(e,"must have providerWeb3"),g.label=1;case 1:return g.trys.push([1,5,,6]),m=function(){var n=(0,c.Z)((function(){var n,r,a,s;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return f?[4,t.populateTransaction.unwrap((0,v.parseEther)(d))]:[3,2];case 1:return n=i.sent(),[2,e.getSigner().sendUncheckedTransaction(n)];case 2:return[4,(0,I.I)(l)];case 3:return r=i.sent(),a=r.maxFeePerGas,s=r.maxPriorityFeePerGas,[2,t.unwrap((0,v.parseEther)(d),{maxPriorityFeePerGas:null!==s&&void 0!==s?s:void 0,maxFeePerGas:null!==a&&void 0!==a?a:void 0})];case 4:return[2]}}))}));return function(){return n.apply(this,arguments)}}(),r(u.qh.SIGN),n(),[4,(0,E.J6)("Unwrap signing",m)];case 2:return w=g.sent(),x=function(){n(),p(),o(),i()},f?(r(u.qh.SUCCESS_MULTISIG),x(),[2]):"object"!==typeof w?[3,4]:(a(w.hash),r(u.qh.BLOCK),n(),[4,(0,E.J6)("Unwrap block confirmation",(0,c.Z)((function(){return(0,h.__generator)(this,(function(e){return[2,w.wait()]}))})))]);case 3:g.sent(),g.label=4;case 4:return r(u.qh.SUCCESS),x(),[3,6];case 5:return T=g.sent(),s((0,E.e$)(T)),r(u.qh.FAIL),a(void 0),n(),[3,6];case 6:return[2]}}))}));return function(t,n,r,a,s,i,o,u,c,l,d,h){return e.apply(this,arguments)}}(),W=function(){var e=(0,c.Z)((function(e,t,n,r,a,s,i,o,l,d,p,m,w,x,T){var g,b,j,S,H,k,Z,C;return(0,h.__generator)(this,(function(_){switch(_.label){case 0:g=function(){r(),T(),o(),l()},b=function(){var t=(0,c.Z)((function(){var t,n,r;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,I.I)(e)];case 1:return t=a.sent(),[2,{maxPriorityFeePerGas:null!==(n=t.maxPriorityFeePerGas)&&void 0!==n?n:void 0,maxFeePerGas:null!==(r=t.maxFeePerGas)&&void 0!==r?r:void 0}]}}))}));return function(){return t.apply(this,arguments)}}(),_.label=1;case 1:return _.trys.push([1,11,,12]),(0,U.Z)(t,"must have providerWeb3"),(0,U.Z)(n,"must have wstethContractWeb3"),(0,U.Z)(e,"must have chain id"),j=(0,f.DT)(e,f.eT.WSTETH),"ETH"!==p?[3,5]:(S=function(){var e=(0,c.Z)((function(){var e,r,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return w?[2,t.getSigner().sendUncheckedTransaction({to:j,value:(0,v.parseEther)(d)})]:[3,1];case 1:return r=(e=n.signer).sendTransaction,a=[{to:j,value:(0,v.parseEther)(d)}],[4,b()];case 2:return[2,r.apply(e,[y.Z.apply(void 0,a.concat(s.sent()))])];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),a(u.qh.SIGN),r(),[4,(0,E.J6)("Wrap signing",S)]);case 2:return H=_.sent(),w?(a(u.qh.SUCCESS_MULTISIG),g(),[2]):"object"!==typeof H?[3,4]:(s(H.hash),a(u.qh.BLOCK),r(),[4,(0,E.J6)("Wrap block confirmation",(0,c.Z)((function(){return(0,h.__generator)(this,(function(e){return[2,H.wait()]}))})))]);case 3:_.sent(),_.label=4;case 4:return a(u.qh.SUCCESS),g(),[3,10];case 5:return p!==f.eT.STETH?[3,10]:m?[2,x()]:[3,6];case 6:return k=function(){var e=(0,c.Z)((function(){var e,r,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return w?[4,n.populateTransaction.wrap((0,v.parseEther)(d))]:[3,2];case 1:return e=s.sent(),[2,t.getSigner().sendUncheckedTransaction(e)];case 2:return r=n.wrap,a=[(0,v.parseEther)(d)],[4,b()];case 3:return[2,r.apply(n,a.concat(s.sent()))];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),a(u.qh.SIGN),r(),[4,(0,E.J6)("Wrap signing",k)];case 7:return Z=_.sent(),w?(a(u.qh.SUCCESS_MULTISIG),g(),[2]):"object"!==typeof Z?[3,9]:(s(Z.hash),a(u.qh.BLOCK),r(),[4,(0,E.J6)("Wrap block confirmation",(0,c.Z)((function(){return(0,h.__generator)(this,(function(e){return[2,Z.wait()]}))})))]);case 8:_.sent(),_.label=9;case 9:a(u.qh.SUCCESS),g(),_.label=10;case 10:return[3,12];case 11:return C=_.sent(),i((0,E.e$)(C)),a(u.qh.FAIL),s(void 0),r(),[3,12];case 12:return[2]}}))}));return function(t,n,r,a,s,i,o,u,c,l,d,h,p,f,m){return e.apply(this,arguments)}}(),P=n(26354),q=n(43800),F=n(85332),A=n(55016),M=n(24582),L=n(7297),N=n(51192),R=n(71510);function B(){var e=(0,L.Z)(["\n  &,\n  &:hover,\n  &:focus-within {\n    border-color: var(--lido-color-error);\n  }\n"]);return B=function(){return e},e}function D(){var e=(0,L.Z)(["\n  margin-bottom: 24px;\n"]);return D=function(){return e},e}function $(){var e=(0,L.Z)(["\n  margin-bottom: ","px;\n  z-index: 2;\n"]);return $=function(){return e},e}function O(){var e=(0,L.Z)(["\n  margin-bottom: ","px;\n  z-index: 2;\n"]);return O=function(){return e},e}function V(){var e=(0,L.Z)(["\n  position: static;\n"]);return V=function(){return e},e}function J(){var e=(0,L.Z)(["\n  ","\n"]);return J=function(){return e},e}var Q,z,Y=(0,N.iv)(B()),K=N.ZP.form.withConfig({componentId:"sc-66fd371d-0"})(D()),X=(0,N.ZP)(R.R).withConfig({componentId:"sc-66fd371d-1"})($(),(function(e){return e.theme.spaceMap.md})),ee=(0,N.ZP)(p.BZy).withConfig({componentId:"sc-66fd371d-2"})(O(),(function(e){return e.theme.spaceMap.md})),te=(0,N.ZP)(p.GVG).withConfig({componentId:"sc-66fd371d-3"})(V()),ne=(0,N.ZP)(R.R).withConfig({componentId:"sc-66fd371d-4"})(J(),(function(e){return e.error?Y:""})),re=n(82478),ae=n(66890),se=n(87385),ie="ETH",oe=(Q={},(0,l.Z)(Q,ie,(0,r.jsx)(p.e8Q,{})),(0,l.Z)(Q,f.eT.STETH,(0,r.jsx)(p.v38,{})),Q),ue=function(e){var t=e.formRef,n=e.selectedToken,s=e.setSelectedToken,i=e.setWrappingAmountValue,o=e.setTxOperation,l=e.openTxModal,v=e.setTxStage,T=e.setTxHash,E=e.setTxModalFailedText,b=e.needsApprove,j=e.approve,S=e.setInputValue,I=e.inputValue,U=e.wrapGasLimit,G=(0,m.$6)(),L=G.active,N=G.account,R=(0,w.e)(),B=R.chainId,D=R.providerWeb3,$=(0,Z.s)(void 0,se.wd),O=(0,x.DS)(),V=(0,C.Fk)(),J=(0,d.Z)((0,g.J)(),1)[0],Q=(0,a.useMemo)((function(){return n===ie?$.data:O.data}),[n,$.data,O.data]),z=(0,a.useCallback)(function(){var e=(0,c.Z)((function(e,t){return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return i(e),o(b&&n===f.eT.STETH?u.Gm.APPROVING:u.Gm.WRAPPING),[4,W(B,D,V,l,v,T,E,$.update,O.update,e,n,b,J,j,t)];case 1:return r.sent(),i(""),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[D,i,o,b,n,B,V,l,v,T,E,$.update,O.update,j,J]),Y="".concat((0,ae.T)(n)," amount"),X=(0,_.E)({inputValue:I,inputName:Y,setInputValue:S,submit:z,limit:Q,token:n,gasLimit:U,padMaxAmount:!J}),ue=X.handleSubmit,ce=X.handleChange,le=X.error,de=X.isSubmitting,he=X.setMaxInputValue,pe=X.isMaxDisabled,fe=X.reset,me=(0,a.useCallback)(function(){var e=(0,c.Z)((function(e){return(0,h.__generator)(this,(function(t){return e===n||(s(e),S(""),fe(),re.L9.apply(void 0,(0,k.Z)("ETH"===e?q.Bi.wrapTokenSelectEth:q.Bi.wrapTokenSelectSteth))),[2]}))}));return function(t){return e.apply(this,arguments)}}(),[s,S,fe,n]);(0,a.useEffect)((function(){L||(S(""),fe())}),[L,fe,S]);var we={fullwidth:!0,type:"submit",disabled:!!le,loading:de};return(0,r.jsxs)(K,{action:"",method:"post",autoComplete:"off",onSubmit:ue,ref:t,children:[(0,r.jsxs)(ee,{fullwidth:!0,children:[(0,r.jsxs)(te,{"data-testid":"drop-down",icon:oe[n],value:n,onChange:me,error:le,children:[(0,r.jsx)(p.Wxm,{"data-testid":"stEthTokenOption",leftDecorator:oe[f.eT.STETH],value:f.eT.STETH,children:"Lido (".concat((0,ae.T)(f.eT.STETH),")")}),(0,r.jsx)(p.Wxm,{"data-testid":"ethTokenOption",leftDecorator:oe.ETH,value:ie,children:"Ethereum (ETH)"})]}),(0,r.jsx)(ne,{fullwidth:!0,placeholder:"0","data-testid":"wrapInput",rightDecorator:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.i,{onClick:he,disabled:pe}),N&&b&&n===f.eT.STETH?(0,r.jsx)(A.v,{}):""]}),label:Y,value:I,onChange:ce,error:!!le})]}),L?b&&n===f.eT.STETH?(0,r.jsx)(p.Eik,(0,H.Z)((0,y.Z)({},we),{icon:(0,r.jsx)(p.HEZ,{}),children:"Unlock token to wrap"})):(0,r.jsx)(p.zxk,(0,H.Z)((0,y.Z)({"data-testid":"wrapBtn"},we),{children:"Wrap"})):(0,r.jsx)(F.lj,{fullwidth:!0}),(0,r.jsx)(P.Y,{matomoEvent:q.Bi.l2BannerWrap})]})},ce="ETH",le=(z={},(0,l.Z)(z,ce,(0,r.jsx)(p.e8Q,{})),(0,l.Z)(z,f.eT.STETH,(0,r.jsx)(p.v38,{})),(0,a.memo)((function(){var e=(0,m.$6)().account,t=(0,w.e)().chainId,n=(0,x.b$)(),s=(0,a.useRef)(null),i=(0,a.useState)(f.eT.STETH),o=i[0],l=i[1],y=(0,a.useState)(""),H=y[0],k=y[1],Z=(0,a.useState)(""),C=Z[0],_=Z[1],I=(0,a.useState)(!1),U=I[0],G=I[1],W=(0,a.useState)(u.qh.SUCCESS),P=W[0],q=W[1],F=(0,a.useState)(u.Gm.STAKING),A=F[0],M=F[1],L=(0,a.useState)(),N=L[0],R=L[1],B=(0,a.useState)(""),D=B[0],$=B[1],O=(0,a.useMemo)((function(){try{return(0,v.parseEther)(H||"0")}catch(e){return(0,v.parseEther)("0")}}),[H]),V=(0,a.useMemo)((function(){return(0,f.DT)(t,f.eT.STETH)}),[t]),J=(0,a.useMemo)((function(){return(0,f.DT)(t,f.eT.WSTETH)}),[t]),Q=(0,a.useMemo)((function(){return(0,v.parseEther)("1")}),[]),z=(0,j.K)(),Y=(0,T.w2)(z),K=(0,j.p)(o===ce),X=(0,T.w2)(K),ee=(0,T.DE)(Q),te=(0,a.useCallback)((function(){G(!0)}),[]),ne=(0,a.useCallback)((function(){G(!1)}),[]),re=(0,d.Z)((0,g.J)(),1)[0],ae=(0,a.useCallback)(function(){var e=(0,c.Z)((function(e){var t,n;return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),q(u.qh.SIGN),te(),[4,(0,E.J6)("Approve signing",e)];case 1:return t=r.sent(),re?(q(u.qh.SUCCESS_MULTISIG),te(),[2]):"string"===typeof t?[3,3]:(R(t.hash),q(u.qh.BLOCK),te(),[4,(0,E.J6)("Approve block confirmation",(0,c.Z)((function(){return(0,h.__generator)(this,(function(e){return[2,t.wait()]}))})))]);case 2:r.sent(),r.label=3;case 3:return q(u.qh.SUCCESS),te(),[3,5];case 4:return n=r.sent(),$((0,E.e$)(n)),q(u.qh.FAIL),te(),[3,5];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[te,re]),se=(0,S.y)(O,V,J,e||void 0,ae),ie=se.approve,oe=se.needsApprove,le=se.allowance,de=se.loading,he=(0,a.useMemo)((function(){return o===f.eT.STETH&&oe?(0,v.parseEther)("0"):O}),[oe,o,O]),pe=(0,T.DE)(he),fe=o===f.eT.STETH;return(0,r.jsxs)(p.gOu,{children:[(0,r.jsx)(ue,{formRef:s,selectedToken:o,setSelectedToken:l,setWrappingAmountValue:_,setTxOperation:M,setInputValue:k,openTxModal:te,setTxStage:q,setTxHash:R,setTxModalFailedText:$,needsApprove:oe,approve:ie,inputValue:H,wrapGasLimit:K}),(0,r.jsxs)(p.wQF,{children:[(0,r.jsxs)(p.UkV,{title:"Max unlock fee","data-testid":"maxUnlockFee",loading:!Y,children:["$",null===Y||void 0===Y?void 0:Y.toFixed(2)]}),(0,r.jsxs)(p.UkV,{title:"Max gas fee","data-testid":"maxGasFee",loading:!X,children:["$",null===X||void 0===X?void 0:X.toFixed(2)]}),(0,r.jsxs)(p.UkV,{title:"Exchange rate","data-testid":"exchangeRate",loading:!ee,children:["1 ",fe?"stETH":"ETH"," ="," ",(0,r.jsx)(b.o5,{amount:ee,symbol:"wstETH"})]}),(0,r.jsx)(p.UkV,{"data-testid":"allowance",title:"Allowance",loading:de,children:fe?(0,r.jsx)(b.o5,{amount:le,symbol:"stETH"}):(0,r.jsx)(r.Fragment,{children:"-"})}),(0,r.jsx)(p.UkV,{title:"You will receive",children:(0,r.jsx)(b.o5,{amount:pe,"data-testid":"youWillReceive",symbol:"wstETH"})})]}),(0,r.jsx)(u.$N,{open:U,onClose:ne,txStage:P,txOperation:A,txHash:N,amount:C,amountToken:o===ce?"ETH":"stETH",willReceiveAmount:(0,E.az)(pe),willReceiveAmountToken:"wstETH",balance:n.data,balanceToken:"wstETH",allowanceAmount:le,failedText:D,onRetry:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.requestSubmit()}})]})}))),de=n(26522),he=n(81313),pe=n(2593),fe=n(69268),me=(0,a.memo)((function(){var e=(0,m.$6)(),t=e.active,n=e.chainId,s=(0,x.DS)(),i=(0,x.b$)(),o=(0,C.Fk)(),l=(0,w.e)().providerWeb3,b=(0,d.Z)((0,g.J)(),1)[0],j=(0,a.useRef)(null),S=(0,a.useState)(""),y=S[0],H=S[1],k=(0,a.useState)(!1),Z=k[0],U=k[1],W=(0,a.useState)(u.qh.SUCCESS),A=W[0],L=W[1],N=(0,a.useState)(),R=N[0],B=N[1],D=(0,a.useState)(""),$=D[0],O=D[1],V=(0,a.useState)(""),J=V[0],Q=V[1],z=function(){var e=(0,C.Z3)(),t=(0,m.$6)().chainId,n=(0,he.p)(["swr:unwrap-gas-limit",t],function(){var t=(0,c.Z)((function(t,n){var r,a,s,i,o;return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return n?[4,(0,I.I)(n)]:[2];case 1:return r=t.sent(),s=null!==(a=r.maxPriorityFeePerGas)&&void 0!==a?a:void 0,o=null!==(i=r.maxFeePerGas)&&void 0!==i?i:void 0,[4,e.estimateGas.unwrap((0,v.parseEther)("0.0001"),{from:q.mA,maxPriorityFeePerGas:s,maxFeePerGas:o}).catch((function(e){return console.warn(e),pe.O$.from(q.I6)}))];case 2:return[2,+t.sent()]}}))}));return function(e,n){return t.apply(this,arguments)}}()).data;return null!==n&&void 0!==n?n:q.I6}(),Y=(0,T.w2)(z),ee=(0,a.useCallback)((function(){U(!0)}),[]),te=(0,a.useCallback)((function(){U(!1)}),[]),ne=(0,a.useCallback)(function(){var e=(0,c.Z)((function(e,t){return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return H(e),[4,G(l,o,ee,L,B,O,i.update,s.update,n,e,t,b)];case 1:return r.sent(),H(""),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[l,o,ee,i.update,s.update,n,b]),re=f.eT.WSTETH,se="".concat((0,ae.T)(re)," amount"),ie=(0,_.E)({inputValue:J,setInputValue:Q,inputName:se,submit:ne,limit:i.data,token:re}),oe=ie.handleSubmit,ue=ie.handleChange,ce=ie.error,le=ie.isSubmitting,me=ie.setMaxInputValue,we=ie.isMaxDisabled,xe=ie.reset,ve=(0,a.useMemo)((function(){try{return(0,v.parseEther)(J||"0")}catch(e){return(0,v.parseEther)("0")}}),[J]),Te=(0,T.$u)(ve);return(0,a.useEffect)((function(){t||xe()}),[t,xe]),(0,r.jsxs)(p.gOu,{children:[(0,r.jsxs)(K,{action:"",method:"post",autoComplete:"off",onSubmit:oe,ref:j,children:[(0,r.jsx)(X,{fullwidth:!0,placeholder:"0",leftDecorator:(0,r.jsx)(p.UFZ,{}),"data-testid":"unwrapInput",rightDecorator:(0,r.jsx)(M.i,{onClick:me,disabled:we}),label:se,value:J,onChange:ue,error:ce}),t?(0,r.jsx)(p.zxk,{fullwidth:!0,"data-testid":"unwrapSubmitBtn",type:"submit",disabled:!!ce,loading:le,children:"Unwrap"}):(0,r.jsx)(F.lj,{fullwidth:!0}),(0,r.jsx)(P.Y,{matomoEvent:q.Bi.l2BannerUnwrap})]}),(0,r.jsxs)(p.wQF,{children:[(0,r.jsxs)(p.UkV,{title:"Max gas fee","data-testid":"maxGasFee",loading:!Y,children:["$",null===Y||void 0===Y?void 0:Y.toFixed(2)]}),(0,r.jsx)(de.x,{}),(0,r.jsx)(p.UkV,{title:"You will receive",children:(0,r.jsx)(fe.o,{"data-testid":"youWillReceive",amount:Te,symbol:"stETH"})})]}),(0,r.jsx)(u.$N,{open:Z,onClose:te,txStage:A,txOperation:u.Gm.UNWRAPPING,txHash:R,amount:y,amountToken:"wstETH",willReceiveAmount:(0,E.az)(Te),willReceiveAmountToken:"stETH",balance:s.data,balanceToken:"stETH",failedText:$,onRetry:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.requestSubmit()}})]})})),we=n(55986);function xe(){var e=(0,L.Z)(["\n  background: linear-gradient(52.01deg, #1b3349 0%, #25697e 100%);\n"]);return xe=function(){return e},e}var ve=(0,N.ZP)(F.Zb).withConfig({componentId:"sc-bca23d49-0"})(xe()),Te=function(e){var t=(0,w.e)().account,n=(0,Z.s)(void 0,se.wd),a=(0,x.DS)(),s=(0,x.b$)(),i=(0,we.x)(f.eT.STETH),o=(0,we.x)(f.eT.WSTETH),c=(0,T.DE)(a.data),l=(0,T.$u)(s.data);return(0,r.jsxs)(ve,(0,H.Z)((0,y.Z)({},e),{children:[(0,r.jsxs)(F.lS,{children:[(0,r.jsx)(F.gX,{title:"ETH Balance",loading:n.initialLoading,value:(0,r.jsx)(b.o5,{"data-testid":"ethBalance",showAmountTip:!0,amount:n.data,symbol:"ETH"})}),(0,r.jsx)(F.B8,{account:t})]}),(0,r.jsx)(p.izJ,{}),(0,r.jsxs)(F.lS,{children:[(0,r.jsx)(F.gX,{small:!0,title:"stETH Balance",loading:a.initialLoading,value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.o5,{"data-testid":"stEthBalance",showAmountTip:!0,amount:a.data,symbol:"stETH"}),(0,r.jsx)(u.sW,{"data-testid":"addStethToWalletBtn",address:i}),(0,r.jsxs)(p.xvT,{size:"xxs",color:"secondary",children:["\u2248"," ",(0,r.jsx)(b.o5,{"data-testid":"wstEthBalanceOption",amount:c,symbol:"wstETH"})]})]})}),(0,r.jsx)(F.gX,{small:!0,title:"wstETH Balance",loading:s.initialLoading,value:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.o5,{"data-testid":"wstEthBalance",showAmountTip:!0,amount:s.data,symbol:"wstETH"}),(0,r.jsx)(u.sW,{"data-testid":"addWstethToWalletBtn",address:o}),(0,r.jsxs)(p.xvT,{size:"xxs",color:"secondary",children:["\u2248"," ",(0,r.jsx)(b.o5,{"data-testid":"stethBalanceOption",amount:l,symbol:"stETH"})]})]})})]})]}))},ge=(0,a.memo)((function(e){return(0,m.$6)().active?(0,r.jsx)(Te,(0,y.Z)({},e)):(0,r.jsx)(F.NY,(0,y.Z)({},e))})),Ee=function(){return(0,r.jsx)(p.UQy,{defaultExpanded:!0,summary:"What is wstETH?",children:(0,r.jsx)("p",{children:"wstETH (wrapped stETH) is a non-rebasing version of stETH. Unlike the stETH balance, which updates every day and communicates your share of rewards, the wstETH balance stays the same while the stETH balance updates inside the wrapper daily."})})},be=n(18394),je=n(30336),Se=function(){return(0,r.jsx)(p.UQy,{summary:"How can I get wstETH?",children:(0,r.jsxs)("p",{children:["You can wrap your stETH or ETH tokens using"," ",(0,r.jsx)(be.S,{href:"/wrap",children:(0,r.jsx)("a",{onClick:function(){return(0,je.s)(q.A8.faqHowCanIGetWstethWrapLink)},"aria-hidden":"true",children:"Wrap & Unwrap staking widget"})})," ","or"," ",(0,r.jsx)(p.rUS,{href:"https://lido.fi/lido-ecosystem?tokens=wstETH&categories=Get","data-matomo":q.A8.faqHowCanIGetStEthIntegrations,children:"DEX Lido integrations"})]})})},ye=function(){return(0,r.jsx)(p.UQy,{summary:"How can I use wstETH?",children:(0,r.jsxs)("p",{children:["wstETH is useful across"," ",(0,r.jsx)(p.rUS,{href:"https://lido.fi/lido-ecosystem?networks=arbitrum%2Coptimism","data-matomo":q.A8.faqHowCanIUseWstethL2,children:"L2"})," ","and other"," ",(0,r.jsx)(p.rUS,{href:"https://lido.fi/lido-ecosystem?tokens=wstETH","data-matomo":q.A8.faqHowCanIUseWstethDefiProtocols,children:"DeFi protocols"}),", which are based on constant balance tokens."]})})},He=function(){return(0,r.jsx)(p.UQy,{summary:"Do I get my staking rewards if I wrap stETH to wstETH?",children:(0,r.jsx)("p",{children:"Yes, wrapped stETH gets staking rewards at the same rate as regular stETH. When you keep your stETH in a wrapper you cannot see your daily staking rewards. However, when you unwrap your wstETH your new stETH balance will have increased relative to pre-wrapped amount to reflect your received rewards."})})},ke=function(){return(0,r.jsx)(p.UQy,{summary:"Do I need to claim my staking rewards if I wrap stETH to wstETH?",children:(0,r.jsx)("p",{children:"No, staking rewards accrue to wstETH automatically."})})},Ze=function(){return(0,r.jsx)(p.UQy,{summary:"How could I unwrap wstETH back to stETH?",children:(0,r.jsxs)("p",{children:["You can unwrap your wstETH tokens using"," ",(0,r.jsx)(be.S,{href:"/wrap/unwrap",children:(0,r.jsx)("a",{onClick:function(){return(0,je.s)(q.A8.faqHowDoIUnwrapWstethUnwrapLink)},"aria-hidden":"true",children:"Wrap & Unwrap staking widget"})}),"."]})})},Ce=function(){return(0,r.jsx)(p.UQy,{summary:"Do I need to unwrap my wstETH before requesting withdrawals?",children:(0,r.jsxs)("p",{children:["No, you can transform your wstETH to ETH using the"," ",(0,r.jsx)(be.S,{href:"/withdrawals",children:(0,r.jsx)("a",{onClick:function(){return(0,je.s)(q.A8.faqDoINeedToUnwrapMyWstethWithdrawalsTabs)},"aria-hidden":"true",children:"Withdrawals Request and Claim tabs"})}),". Note that, under the hood, wstETH will unwrap to stETH first, so your request will be denominated in stETH."]})})},_e=function(){var e=(0,T.gn)();return(0,r.jsxs)(u.$0,{title:"FAQ",onClick:e,children:[(0,r.jsx)(Ee,{}),(0,r.jsx)(Se,{}),(0,r.jsx)(ye,{}),(0,r.jsx)(He,{}),(0,r.jsx)(ke,{}),(0,r.jsx)(Ze,{}),(0,r.jsx)(Ce,{})]})},Ie=n(25643),Ue=n(25209),Ge=n(57210),We=[{name:"Wrap",path:"/wrap"},{name:"Unwrap",path:"/wrap/unwrap"}],Pe=!0,qe=function(e){var t=e.mode,n=(0,o.useRouter)(),s=n.isReady,c=n.query,l=n.replace,d="unwrap"===t,h=(0,Ue.R)();return(0,a.useEffect)((function(){s&&"unwrap"===c.mode&&l("/wrap/unwrap".concat(h))}),[s,c.mode,h,l]),(0,r.jsxs)(u.Ar,{title:"Wrap & Unwrap",subtitle:"Stable-balance stETH wrapper for DeFi",children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Wrap | Lido"})}),(0,r.jsx)(Ie.r,{checked:d,routes:We}),(0,r.jsxs)(Ge.Z,{children:[(0,r.jsx)(ge,{}),d?(0,r.jsx)(me,{}):(0,r.jsx)(le,{})]}),(0,r.jsx)(_e,{})]})}},26522:function(e,t,n){"use strict";n.d(t,{x:function(){return l},i:function(){return c}});var r=n(85893),a=n(67294),s=n(54152),i=n(50890),o=n(36511),u=n(61744),c=function(){var e=(0,a.useMemo)((function(){return(0,u.parseEther)("1")}),[]),t=(0,s.$u)(e);return{wstethAsStethBN:t,loading:!t}},l=function(e){var t=e.toSymbol,n=void 0===t?"stETH":t,a=c(),s=a.loading,u=a.wstethAsStethBN;return(0,r.jsxs)(i.UkV,{title:"Exchange rate",loading:s,children:["1 wstETH =",(0,r.jsx)(o.o5,{"data-testid":"exchangeRate",amount:u,symbol:n})]})}},55016:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(26042),a=n(69396),s=n(85893),i=n(50890),o=n(7297);function u(){var e=(0,o.Z)(["\n  position: relative;\n  line-height: 0;\n  padding: 4px;\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 8px;\n  cursor: default;\n  color: var(--lido-color-warning);\n  border-radius: ","px;\n\n  :first-child {\n    margin-left: 0;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0.1;\n    background: currentColor;\n    border-radius: inherit;\n  }\n"]);return u=function(){return e},e}var c=n(51192).ZP.span.withConfig({componentId:"sc-d9273d51-0"})(u(),(function(e){return e.theme.borderRadiusesMap.sm})),l=function(e){return(0,s.jsx)(i.ua7,(0,a.Z)((0,r.Z)({title:"Token locked",placement:"top"},e),{children:(0,s.jsx)(c,{children:(0,s.jsx)(i.HEZ,{})})}))}},69354:function(e,t,n){"use strict";n.d(t,{y:function(){return w}});var r=n(47568),a=n(10253),s=n(20414),i=n(38776),o=n(67294),u=n(74085),c=n(21046),l=n(86016),d=n(50947),h=n(58337),p=n(6491),f=n(7033),m=function(){var e=(0,r.Z)((function(e){var t;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return"object"!==typeof(t=n.sent())?[3,3]:[4,t.wait()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),w=function(e,t,n,w){var x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m,v=(0,l.e)(),T=v.providerWeb3,g=v.account,E=v.chainId,b=null!==w&&void 0!==w?w:g;(0,i.Z)(null!=t,"Token is required"),(0,i.Z)(null!=n,"Spender is required");var j=(0,a.Z)((0,d.D)(!1),2),S=j[0],y=j[1],H=(0,h.y)(t,n,b),k=H.data,Z=void 0===k?c._Y:k,C=H.initialLoading,_=H.update,I=!C&&!e.isZero()&&e.gt(Z),U=(0,o.useCallback)((0,r.Z)((function(){var a,o;return(0,s.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,,4,5]),y(!0),(0,i.Z)(null!=T,"Web3 provider is required"),(0,i.Z)(E,"chain id is required"),(0,i.Z)(g,"account is required"),a=(0,u.lN)(t,T.getSigner()),[4,(0,p.T)(g,T)];case 1:return o=c.sent(),[4,x((0,r.Z)((function(){var t,r,i,u,c,l;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return o?[4,a.populateTransaction.approve(n,e)]:[3,3];case 1:return t=s.sent(),[4,T.getSigner().sendUncheckedTransaction(t)];case 2:return[2,s.sent()];case 3:return[4,(0,f.I)(E).catch((function(e){return console.warn(e)}))];case 4:return r=s.sent(),u=null!==(i=null===r||void 0===r?void 0:r.maxPriorityFeePerGas)&&void 0!==i?i:void 0,l=null!==(c=null===r||void 0===r?void 0:r.maxFeePerGas)&&void 0!==c?c:void 0,[4,a.approve(n,e,{maxFeePerGas:l,maxPriorityFeePerGas:u})];case 5:return[2,s.sent()];case 6:return[2]}}))})))];case 2:return c.sent(),[4,_()];case 3:return c.sent(),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))})),[y,T,E,g,t,x,_,n,e]);return{approve:U,approving:S,needsApprove:I,allowance:Z,initialLoading:C,get loading(){return H.loading},get error(){return H.error}}}},25209:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(26042),a=n(10253),s=n(67294),i=n(11163),o=function(e){var t=(0,i.useRouter)().query,n=t.ref,o=t.embed,u=t.app;return(0,s.useMemo)((function(){var t=new URLSearchParams;Object.entries((0,r.Z)({ref:n,embed:o,app:u},null!==e&&void 0!==e?e:{})).forEach((function(e){var n=(0,a.Z)(e,2),r=n[0],s=n[1];return s&&"string"===typeof s&&t.append(r,s)}));var s=t.toString();return s?"?"+s:""}),[n,o,u,e])}},6491:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(47568),a=n(20414),s=function(){var e=(0,r.Z)((function(e,t){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.getCode(e)];case 1:return[2,"0x"!=n.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}()}},function(e){e.O(0,[290,439,456,774,888,179],(function(){return t=97746,e(e.s=t);var t}));var t=e.O();_N_E=t}]);